<!DOCTYPE html>
<html lang="en">
<head>
    <!-- p.9~13. 코드 1-2~9 숫자 3자리마다 콤마 찍는 예제 -->
    <meta charset="UTF-8">
    <title>Set Comma Test Suite</title>
    <link rel="stylesheet" href="qunit/qunit-2.2.0.css" type="text/css" media="screen">
    <script type="text/javascript" src="qunit/qunit-2.2.0.js"></script>
</head>
<body>
    <!-- qunit 테스트 결과 표시 영역 -->
    <div id="qunit"></div>
    <div id="qunit-fixture">test markup</div>
    <script>
        /* 구현코드를 넣는다. */
        function setComma (p) {
            var num = String(p);
            if(num.length > 3) {
                /* 정규식으로 구현 */
                // return num.replace(/(\d{3})$/, ",$1");
                return num.substr(0, 1) + ',' + num.substr(1, 3);
            } else {
                return num;
            }
        }
    </script>
    <script>
        /* 테스트코드를 넣는다. */
        QUnit.test('세 자리 이하인 경우는 매개변수를 바로 반환한다.', function (assert) {
            assert.equal(setComma(1), 1, '한 자리는 그냥 반환된다.');
            assert.equal(setComma(12), 12, '두 자리는 그냥 반환된다.');
            assert.equal(setComma(123), 123, '세 자리는 그냥 반환된다.');
        });
        QUnit.test('세 자리가 넘는 경우 세 자리마다 쉼표를 넣는다.', function (assert) {
            assert.equal(setComma(1234), '1,234', '세 자리가 넘는 경우 쉼표를 표시한다.');
        });
    </script>
</body>
</html>