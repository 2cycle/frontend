<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Linked List Test</title>
    <!-- 재스민 라이브러리 파일 -->
    <link data-require="jasmine@*" data-semver="2.0.0" rel="stylesheet" href="http://cdn.jsdelivr.net/jasmine/2.0.0/jasmine.css" />
    <script data-require="jasmine@*" data-semver="2.0.0" src="http://cdn.jsdelivr.net/jasmine/2.0.0/jasmine.js"></script>
    <script data-require="jasmine@*" data-semver="2.0.0" src="http://cdn.jsdelivr.net/jasmine/2.0.0/jasmine-html.js"></script>
    <script data-require="jasmine@*" data-semver="2.0.0" src="http://cdn.jsdelivr.net/jasmine/2.0.0/boot.js"></script>
</head>
<body>
<h2>LinkedList test cases</h2>
<script src="LinkedList.js"></script>
<script>

    describe('LinkedList 테스트', function() {
        let ll;

        beforeEach(function() { // 각각의 테스트 전에 실행할 로직을 입력
            ll = new LinkedList();
        });

        describe('LinkedList 객체생성 테스트', function() {
            it('LinkedList 객체는 head:null, tail:null, length:0 을 element로 가지고 있어야 한다.', function() {
                expect(ll).toEqual(jasmine.objectContaining({
                    head: null,
                    tail: null,
                    length: 0
                }));
            });
        });


        // linkFirst, linkLast, linkBefore, linkLast, unlinkFirst, unlinkLast, unlink
        // get, getFirst, getLast, indexOf, lastIndexOf

        describe('linkFirst()', function() {
            describe('에러처리', function() {
                it('linkFirst() 실행시에 파라미터를 넘기지 않으면 에러.', function() {
                    expect(ll.linkFirst.bind(ll)).toThrow('필수인자가 누락되었습니다.');
                });
            });
            describe('입력시 인자 갯수 체크', function() {
                it('linkFirst()로 4개의 element를 입력했을때 길이는 4가 되어야 한다.', function() {
                    ll.linkFirst('test1');
                    ll.linkFirst('test2');
                    ll.linkFirst('test3');
                    ll.linkFirst('test4');
                    expect(ll.length).toBe(4);
                });
            });
        });

        describe('linkLast()', function() {
            describe('에러처리', function() {
                it('linkLast() 실행시에 파라미터를 넘기지 않으면 에러.', function() {
                    expect(ll.linkLast.bind(ll)).toThrow();
                });
            });
            describe('입력시 인자 갯수 체크', function() {
                it('linkLast()로 4개의 element를 입력했을때 길이는 4가 되어야 한다.', function() {
                    ll.linkLast('test1');
                    ll.linkLast('test2');
                    ll.linkLast('test3');
                    ll.linkLast('test4');
                    expect(ll.length).toBe(4);
                });
            });
        });
        describe('isElementIndex()', function() {

        });
        describe('checkElementIndex()', function() {

        });
        describe('getFirst()', function() {
            describe('에러처리', function() {
                it('요소가 없을 때 getFirst() 호출시에 에러', function() {
                    console.dir(ll);
                    expect(ll.getFirst.bind(ll)).toThrow('첫 번째 요소가 없습니다.');
                });
                it('요소가 있을 때 getFirst() 호출시에 에러발생 안함', function() {
                    ll.linkFirst('test1');
                    expect(ll.getFirst.bind(ll)).not.toThrow();
                });
            });
            describe('입력된 값의 적합성 확인', function() {
                beforeEach(function() { // 각각의 테스트 전에 실행할 로직을 입력
                    ll.linkFirst('test1');
                    ll.linkFirst('test2');
                });
                it('ll.getFirst() === ll.head', function() {
                    expect(ll.getFirst()).toEqual(ll.head);
                });
                it('ll.getFirst().ele === test2', function() {
                    expect(ll.getFirst().ele).toEqual('test2');
                });
            });
        });

        describe('getLast()', function() {
            describe('에러처리', function() {
                it('요소가 없을 때 getLast() 호출시에 에러', function() {
                    expect(ll.getLast.bind(ll)).toThrow('마지막 요소가 없습니다.');
                });
                it('요소가 있을 때 getLast() 호출시에 에러발생 안함', function() {
                    ll.linkFirst('test1');
                    expect(ll.getLast.bind(ll)).not.toThrow();
                });
            });
            describe('입력된 값의 적합성 확인', function() {
                beforeEach(function() {
                    ll.linkLast('test1');
                    ll.linkLast('test2');
                });
                it('ll.getLast() === ll.tail', function() {
                    expect(ll.getLast()).toEqual(ll.tail);
                });
                it('ll.getLast().ele === test2', function() {
                    expect(ll.getLast().ele).toEqual('test2');
                });
            });
        });

        describe('indexOf()', function() {
            describe('에러처리', function() {
                it('인자가 안들어오는 경우', function() {
                    expect(ll.indexOf.bind(ll)).toThrow('필수인자가 누락되었습니다.');
                });
                it('인자가 들어오고 제대로 된 값이 들어오는 경우 에러발생 안함', function() {
                    expect(ll.indexOf.bind(ll, 'test1')).not.toThrow();
                });
            });
            describe('입력된 값의 적합성 확인', function() {
                beforeEach(function() {
                    ll.linkFirst('test1');
                    ll.linkLast('test2');
                });
                it('해당되는 값이 없으면 -1', function() {
                    expect(ll.indexOf('xxxxxx')).toEqual(-1);
                });
                it('ll.indexOf("test1") === 0', function() {
                    expect(ll.indexOf('test1')).toEqual(0);
                });
                it('ll.indexOf("test2") === 1', function() {
                    expect(ll.indexOf('test2')).toEqual(1);
                });
            });
        });

        describe('lastIndexOf()', function() {
            describe('에러처리 확인', function() {
                it('인자가 안들어오는 경우', function() {
                    expect(ll.lastIndexOf.bind(ll)).toThrow('필수인자가 누락되었습니다.');
                });
                it('인자가 들어오고 제대로 된 값이 들어오는 경우 에러발생 안함', function() {
                    expect(ll.lastIndexOf.bind(ll, 'test1')).not.toThrow();
                });
            });
            describe('입력된 값의 적합성 확인', function() {
                beforeEach(function() {
                    ll.linkFirst('test1');
                    ll.linkLast('test1');
                });
                it('해당되는 값이 없으면 -1', function() {
                    expect(ll.lastIndexOf('xxxxxx')).toEqual(-1);
                });
                it('ll.lastIndexOf("test1") === 1', function() {
                    expect(ll.lastIndexOf('test1')).toEqual(1);
                });
                it('요소를 마지막에 추가 후에도 ll.lastIndexOf("test1") === 1', function() {
                    ll.linkLast('test2');
                    expect(ll.lastIndexOf('test1')).toEqual(1);
                });
            });
        });

        describe('contains() 테스트', function() {
            describe('에러처리', function() {
                it('인자가 안들어오는 경우', function() {
                    expect(ll.contains.bind(ll)).toThrow('필수인자가 누락되었습니다.');
                });
                it('인자가 들어오고 제대로 된 값이 들어오는 경우 에러발생 안함', function() {
                    expect(ll.contains.bind(ll, 'test1')).not.toThrow();
                });
            });
            describe('입력된 값의 적합성 확인', function() {
                beforeEach(function() {
                    ll.linkFirst('test1');
                    ll.linkLast('test2');
                });
                it('ll.contains("test2") === true', function() {
                    expect(ll.contains('test2')).toEqual(true);
                });
                it('ll.indexOf(new Node(null, "없는 값")) === false', function() {
                    expect(ll.contains('없는 값')).toEqual(false);
                });
            });
        });

        describe('linkBefore()', function() {
            describe('에러처리 확인', function() {
                it('인자 2개를 넘기지 않고 호출시에 에러', function () {
                    expect(ll.linkBefore.bind(ll)).toThrow('필수인자가 누락되었습니다.');
                    expect(ll.linkBefore.bind(ll, undefined)).toThrow('필수인자가 누락되었습니다.');
                    expect(ll.linkBefore.bind(ll, 'test1')).toThrow('필수인자가 누락되었습니다.');
                    expect(ll.linkBefore.bind(ll, 'test1', undefined)).toThrow('필수인자가 누락되었습니다.');
                });
                it('두 번째 인자가 잘못된 타입이라면 오류', function () {
                    expect(ll.linkBefore.bind(ll, 'test1', true)).toThrowError(TypeError);
                    expect(ll.linkBefore.bind(ll, 'test1', 1)).toThrowError(TypeError);
                    expect(ll.linkBefore.bind(ll, 'test1', null)).toThrowError(TypeError);
                });
                it('두 번째 인자가 제대로 된 타입이라도 원본 리스트의 요소가 아니면 오류', function () {
                    expect(ll.linkBefore.bind(ll, 'test1', new Node(null, 'test1', null))).toThrow();
                });
                it('두 번째 인자가 제대로 된 타입이고, 원본 리스트의 요소면 오류발생 안함', function () {
                    ll.linkFirst('test1');
                    expect(ll.linkBefore.bind(ll, 'test2', ll.getFirst())).not.toThrow();
                    expect(ll.linkBefore.bind(ll, 'test2', ll.getLast())).not.toThrow();
                });
            });
            describe('값이 제대로 들어갔는지 확인', function() {
                beforeEach(function () {
                    ll.linkFirst('test1');
                    ll.linkBefore('test0', ll.getFirst());
                });
                it('제대로 된 위치에 들어갔는지 확인', function () {
                    expect(ll.getFirst().ele).toEqual('test0');
                });
                it('인자의 개수 확인', function () {
                    expect(ll.length).toEqual(2);
                });
                it('head 확인', function () {
                    expect(ll.getFirst().ele).toEqual(ll.head.ele);
                });
            });
        });


        describe('linkAfter()', function() {
            describe('에러처리 확인', function() {
                it('인자 2개를 넘기지 않고 호출시에 에러', function () {
                    expect(ll.linkAfter.bind(ll)).toThrow('필수인자가 누락되었습니다.');
                    expect(ll.linkAfter.bind(ll, undefined)).toThrow('필수인자가 누락되었습니다.');
                    expect(ll.linkAfter.bind(ll, 'test1')).toThrow('필수인자가 누락되었습니다.');
                    expect(ll.linkAfter.bind(ll, 'test1', undefined)).toThrow('필수인자가 누락되었습니다.');
                });
                it('두 번째 인자가 잘못된 타입이라면 오류', function () {
                    expect(ll.linkAfter.bind(ll, 'test1', true)).toThrowError(TypeError);
                    expect(ll.linkAfter.bind(ll, 'test1', 1)).toThrowError(TypeError);
                    expect(ll.linkAfter.bind(ll, 'test1', null)).toThrowError(TypeError);
                });
                it('두 번째 인자가 제대로 된 타입이라도 원본 리스트의 요소가 아니면 오류', function () {
                    expect(ll.linkAfter.bind(ll, 'test1', new Node(null, 'test1', null))).toThrow();
                });
                it('두 번째 인자가 제대로 된 타입이고, 원본 리스트의 요소면 오류발생 안함', function () {
                    ll.linkFirst('test1');
                    expect(ll.linkAfter.bind(ll, 'test2', ll.getFirst())).not.toThrow();
                    expect(ll.linkAfter.bind(ll, 'test2', ll.getLast())).not.toThrow();
                });
            });
            describe('값이 제대로 들어갔는지 확인', function() {
                beforeEach(function () {
                    ll.linkFirst('test1');
                    ll.linkAfter('test2', ll.getFirst());
                });
                it('제대로 된 위치에 들어갔는지 확인', function () {
                    expect(ll.getLast().ele).toEqual('test2');
                });
                it('인자의 개수 확인', function () {
                    expect(ll.length).toEqual(2);
                });
                it('tail 확인', function () {
                    expect(ll.getLast().ele).toEqual(ll.tail.ele);
                });
            });
        });



    });

</script>
</body>
</html>